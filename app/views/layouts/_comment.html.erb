<% if defined?(type) && type == "preview" %>
    <div>
            Has <%= pluralize(comments.count, "comment") %> </small><br>
            <% comments.each do |comment|%>
                <ul><%= comment.content %></ul>
            <% end %>
    </div>
<% else %>
    <li>
        <p><%= comment.content %></p>
        <small>
            By <%= comment.get_authorname %><br>
            Submitted <%= time_ago_in_words(comment.created_at) %> ago<br>
            <% if comment.updated_at > comment.created_at %>
                <small>Edited <%= time_ago_in_words(comment.updated_at) %> ago</small><br>
            <% end %>
        </small>

        <%= form_for [comment, Comment.new] do |f| %>
        <%= hidden_field_tag :picture_id, params[:id] %>
            <%= f.text_area :content, placeholder: "Add a Reply" %><br>
            <%= f.submit "Reply to #{comment.get_authorname}" %>
        <% end %>
        <%# comment replies: COMMENTCEPTION %>
        <ul>
            <%= render partial: "layouts/comment", collection: comment.comments %>
        </ul>

    </li>
<% end %>